# jikanicle リブート検討分析 概要

## 更新履歴

| 日付 | 更新者 | 内容 |
|------|--------|------|
| 2025-03-10 | 開発チーム | 初版作成：リブート検討分析の概要と統合 |
| 2025-03-11 | 開発チーム | 更新：既存コード完全廃止と新規構築方針への転換 |

## 1. はじめに

jikanicleプロジェクトは現在、いくつかの技術的課題（TUIのテスト困難性、Reactの複雑なコンテキスト依存、過度に複雑化したアーキテクチャ）に直面しています。本ドキュメントは、これらの課題を根本的に解決するためのリブート検討の一環として実施した分析と提案の全体像をまとめたものです。検討の結果、**既存コードを完全に廃止し、一から再構築する**という方針に決定しました。

## 2. 分析と提案の構成

リブート検討は以下の3つの段階で実施し、各段階の成果物としてドキュメントを作成しました：

1. **核となる機能要件の分析** ([core-requirements-analysis.md](./core-requirements-analysis.md))
   - タスクの目的と背景
   - 情報収集と分析の計画
   - リブート検討の方針

2. **核となる機能要件・仕様の抽出と整理** ([core-features-requirements.md](./core-features-requirements.md))
   - 本質的な価値提案の明確化
   - 4つの主要機能モジュールの核機能の整理
   - モジュール間連携の本質的要素の特定
   - 最小実装モデル（MVP）の定義

3. **アーキテクチャ再設計の提案** ([architecture-redesign-proposal.md](./architecture-redesign-proposal.md))
   - 現状の課題の詳細分析
   - 再設計の原則とアプローチの提案
   - 新アーキテクチャの概要と詳細設計
   - 実装戦略の提案

これらのドキュメントは、「何を実現すべきか」という機能要件の本質を明確にした上で、「どのように実現すべきか」というアーキテクチャの方向性を示すという流れで構成されています。

## 3. 主要な発見と提案

### 3.1 本質的な価値提案

jikanicleの核となる価値提案は以下に集約されます：

**「ユーザーがタスクを入力するだけで、AIが所要時間を予測し、最適なタイムブロックを自動生成。ユーザーは実際の作業時間を計測するだけで、効率的なタイムマネジメントを実現できる」**

この価値提案を実現するために必要な本質的な機能セットを明確化しました。

### 3.2 4つの核となる機能モジュール

プロジェクトは以下の4つの機能モジュールに整理され、それぞれの本質的な責務が明確になりました：

1. **タスク管理モジュール**
   - タスクの作成・保存、情報管理、検索・フィルタリング

2. **タイムブロックモジュール**
   - タイムブロックの自動生成、スケジュールの視覚化、スケジュールの調整

3. **タイムトラッキングモジュール**
   - タスク実行の時間計測、実績データの記録、分析とレポート

4. **AI予測モジュール**
   - タスク所要時間の予測、タスクカテゴリの予測、フィードバックループと学習

### 3.3 機能指向アーキテクチャの採用

技術的課題を根本的に解決するため、以下の機能指向アーキテクチャの採用を決定しました：

1. **機能単位でのモジュール化**
   - 技術レイヤーではなく、ユーザー価値に基づく機能単位での分割
   - コロケーション原則による関連コードの集約
   - シンプルで理解しやすい構造の実現

2. **関数型アプローチ**
   - 不変性と純粋関数による予測可能性
   - 副作用の局所化と明示的な管理
   - 型安全性の確保

3. **シンプルさの徹底**
   - 過度な抽象化を避けた直感的な設計
   - 明示的なインターフェースによるモジュール間連携
   - 必要最小限の概念と型定義

## 4. 完全リブート方針

### 4.1 既存コードの完全廃止

検討の結果、以下の理由から既存コードの完全廃止と新規構築を決定しました：

- 現状の構造的問題を完全に解決するには抜本的な再設計が必要
- パッチワーク的な改修では長期的な保守性向上が見込めない
- クリーンな状態からの再出発により技術的負債を一掃
- 新しい設計原則を最初から徹底することで一貫性を確保

### 4.2 最小実装モデル（MVP）に集中

リブートに際しては、以下の最小実装モデルに集中します：

1. **基本的なタスク管理**
   - タスク作成・編集・削除
   - 状態管理と基本属性

2. **シンプルなAI予測機能**
   - 所要時間予測と基本的なカテゴリ分類
   - フィードバック収集の仕組み

3. **基本的なタイムブロッキング**
   - タイムブロック生成とシンプルな表示
   - 現在タスクのハイライト

4. **基本的なタイムトラッキング**
   - タスク開始・完了の記録
   - 実績時間の計測と保存

### 4.3 新規構築戦略

既存コードを完全に廃止し、以下の方針で新規構築を進めます：

1. **完全に独立した新規プロジェクト開始**
   - 既存コードを参照用途のみで残し、新規プロジェクトとして実装
   - 新しい設計原則とパターンを一貫して適用
   - フェーズごとの確実な成果物の構築

2. **段階的な機能実装**
   - タスク管理→タイムトラッキング→タイムブロック→AI予測の順で段階的に実装
   - 各段階でのテストと動作確認の徹底
   - ユーザーフィードバックを取り入れた継続的改善

3. **品質と保守性の重視**
   - テストファースト開発の徹底
   - 明確な型定義と関数型アプローチの一貫した適用
   - 継続的なリファクタリングの習慣化

## 5. 次のステップ

リブート実施に向けた次のステップとして、以下のアクションを推奨します：

1. **新規プロジェクト構造の構築**
   - 新しいリポジトリまたはブランチの作成
   - 基本的なプロジェクト設定と構造の構築
   - ビルド・テスト環境の整備

2. **基本機能の実装**
   - タスク管理モジュールの設計と実装
   - 基本的なストレージメカニズムの構築
   - シンプルなUIの実装

3. **開発プロセスの確立**
   - テストファースト開発の実践
   - 小さなマイルストーンでの進捗管理
   - 継続的なフィードバックループの構築

4. **チーム内知見の共有**
   - 新しい設計原則とパターンの共有
   - コーディング規約の整備
   - レビュープロセスの確立

## 6. 結論

jikanicleプロジェクトのリブート検討を通じて、既存コードを完全に廃止し、機能指向アーキテクチャに基づいた新規構築を行うという方針が明確になりました。この方針により、現在の技術的課題を根本から解決し、シンプルで保守性の高いアプリケーションを実現することが可能となります。

本質的な機能要件に集中し、過度な複雑さを排除した設計により、効率的な開発と長期的な進化が可能なシステムを構築していきます。段階的な実装アプローチにより、各フェーズで確実に動作する成果物を提供しながら、着実に前進することを目指します。

## 関連ドキュメント

- [核となる機能要件分析](./core-requirements-analysis.md)
- [核となる機能要件・仕様](./core-features-requirements.md)
- [アーキテクチャ再設計提案](./architecture-redesign-proposal.md)
- [軽量進化型アプローチの提案](./lightweight-evolution-approach.md)
- [実装計画](./conclusion-implementation-plan.md)